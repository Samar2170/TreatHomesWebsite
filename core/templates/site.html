{% extends 'components/navbar.html' %}
{% block content %}
<style>
    .flickity-viewport {
  height: 500px !important;
}
</style>
<main class="min-h-screen bg-white text-white flex items-center justify-center" x-data="carouselFilter()">
    <div class="container grid grid-cols-1">

      
      <div class="row-start-2 col-start-1"
           x-show="active == 0"
           x-transition:enter="transition ease-out duration-300"
           x-transition:enter-start="opacity-0 transform scale-90"
           x-transition:enter-end="opacity-100 transform scale-100"
           x-transition:leave="transition ease-in duration-300"
           x-transition:leave-start="opacity-100 transform scale-100"
           x-transition:leave-end="opacity-0 transform scale-90"
      >
        <div class="grid grid-cols-1 grid-rows-1" x-data="carousel()" x-init="init()">
          <div class="col-start-1 row-start-1 relative z-20 flex items-center justify-center pointer-events-none">
  
            <h1 class="absolute text-5xl uppercase font-black tracking-widest"
                x-show="active == 0"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 transform translate-y-12"
                x-transition:enter-end="opacity-100 transform translate-y-0"
                x-transition:leave="transition ease-out duration-300"
                x-transition:leave-start="opacity-100 transform translate-y-0"
                x-transition:leave-end="opacity-0 transform -translate-y-12"
            ></h1>
            <h1 class="absolute text-5xl uppercase font-black tracking-widest"
                x-show="active == 1"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 transform translate-y-12"
                x-transition:enter-end="opacity-100 transform translate-y-0"
                x-transition:leave="transition ease-out duration-300"
                x-transition:leave-start="opacity-100 transform translate-y-0"
                x-transition:leave-end="opacity-0 transform -translate-y-12"
            ></h1>
            <h1 class="absolute text-5xl uppercase font-black tracking-widest"
                x-show="active == 2"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 transform translate-y-12"
                x-transition:enter-end="opacity-100 transform translate-y-0"
                x-transition:leave="transition ease-out duration-300"
                x-transition:leave-start="opacity-100 transform translate-y-0"
                x-transition:leave-end="opacity-0 transform -translate-y-12"
            ></h1>
            <h1 class="absolute text-5xl uppercase font-black tracking-widest"
                x-show="active == 3"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 transform translate-y-12"
                x-transition:enter-end="opacity-100 transform translate-y-0"
                x-transition:leave="transition ease-out duration-300"
                x-transition:leave-start="opacity-100 transform translate-y-0"
                x-transition:leave-end="opacity-0 transform -translate-y-12"
            ></h1>
          </div>
  
  
          <div class="carousel col-start-1 row-start-1" x-ref="carousel">
            <div class="w-3/5 px-2">
              <img
                src="{{site.image1.url}}"
                loading="lazy">
            </div>
            {% if site.image2 %}
            <div class="w-3/5 px-2">
              <img
                src="{{site.image2.url}}"
                loading="lazy">
            </div>
            {% endif %}
            {% if site.image3 %}
            <div class="w-3/5 px-2">
              <img
                src="{{site.image3.url}}"
                loading="lazy">
            </div>
            {% endif %}
            {% if site.image4 %}
            <div class="w-3/5 px-2">
              <img
                src="{{site.image4.url}}"
                loading="lazy">
            </div>
            {% endif %}
            {% if site.image5 %}
            <div class="w-3/5 px-2">
              <img
                src="{{site.image5.url}}"
                loading="lazy">
            </div>
            {% endif %}
            {% if site.image6 %}
            <div class="w-3/5 px-2">
              <img
                src="{{site.image6.url}}"
                loading="lazy">
            </div>
            {% endif %}
            {% if site.image7 %}
            <div class="w-3/5 px-2">
              <img
                src="{{site.image7.url}}"
                loading="lazy">
            </div>
            {% endif %}
          </div>
        </div>
      </div>
      
      

      
    </div>

  </main>
  <div class="flex flex-col lg:flex-row mx-auto bg-white mb-12 dark:bg-gray-800 shadow rounded">
    <div class="w-full lg:w-1/3 px-12 flex flex-col items-center py-10">

        <div class="w-24 h-24 mb-3 p-2 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center">
            <img role="img" class="w-full h-full overflow-hidden object-cover rounded-full" src="{{site.image1.url}}" alt="avatar" />
        </div>
        <a href="/site/{{site.id}}" tabindex="0" class="focus:outline-none focus:opacity-75 hover:opacity-75 text-gray-800 dark:text-gray-100 cursor-pointer focus:underline"><h2 class=" text-xl tracking-normal font-medium mb-1">{{site.name}}</h2></a>
        <a href="/site/{{site.id}}" tabindex="0" class="cursor-pointer hover:text-indigo-700 focus:underline focus:outline-none focus:text-indigo-700 flex text-gray-600 dark:text-gray-100 text-sm tracking-normal font-normal mb-3 text-center">
            <span class="cursor-pointer mr-1 text-gray-600 dark:text-gray-100">
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-map-pin" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                    <path stroke="none" d="M0 0h24v24H0z" />
                    <circle cx="12" cy="11" r="3" />
                    <path d="M17.657 16.657L13.414 20.9a1.998 1.998 0 0 1 -2.827 0l-4.244-4.243a8 8 0 1 1 11.314 0z" />
                </svg>
            </span>
            {{site.city}}
        </a>
        <p class="text-gray-600 dark:text-gray-100 text-sm tracking-normal font-normal mb-8 text-center w-10/12">{{site.tagline}}</p>
        <div class="flex items-start">
            <div class="">
                <h2 class="text-gray-600 dark:text-gray-100 text-2xl leading-6 mb-2 text-center">{{site.n_reviews}}</h2>
                <a  tabindex="0" class="focus:outline-none focus:underline focus:text-gray-400 text-gray-800 hover:text-gray-400 cursor-pointer"><p class=" dark:text-gray-100 text-sm leading-5">Reviews</p></a>
            </div>
            <div class="mx-6 lg:mx-3 xl:mx-6 px-8 lg:px-4 xl:px-8 border-l border-r">
                <h2 class="text-gray-600 dark:text-gray-100 text-2xl leading-6 mb-2 text-center">{{site.n_projects}}</h2>
                <a tabindex="0" class="focus:outline-none focus:underline focus:text-gray-400 text-gray-800 hover:text-gray-400 cursor-pointer"><p class=" dark:text-gray-100 text-sm leading-5">Projects</p></a>
            </div>
            <div class="">
                <h2 class="text-gray-600 dark:text-gray-100 text-2xl leading-6 mb-2 text-center">{{site.n_customers}}</h2>
                <a tabindex="0" class="focus:outline-none focus:underline focus:text-gray-400 text-gray-800 hover:text-gray-400 cursor-pointer"><p class=" dark:text-gray-100 text-sm leading-5">Approved</p></a>
            </div>
        </div>
    </div>
    <div class="w-full lg:w-1/3 px-12 border-t border-b lg:border-t-0 lg:border-b-0 lg:border-l lg:border-r border-gray-300 flex flex-col items-center py-10">
        <div class="mb-3 w-24 h-24 rounded-full bg-gray-100 flex items-center justify-center cursor-pointer text-indigo-700">
            {% load static %}
            <img role="img" class="w-full h-full overflow-hidden object-cover rounded-full" src="{% static 'images/sofa_chair.png' %}" alt="avatar" />
        </div>
        <a tabindex="0" class="cursor-pointer  focus:opacity-75 focus:underline hover:opacity-75  focus:outline-none text-gray-800 dark:text-gray-100 text-xl tracking-normal text-center font-medium mb-1">Ammenities</a>
        <!-- <p class="text-gray-600 dark:text-gray-100 text-sm tracking-normal font-normal mb-3 text-center">Freelance</p>
        <p class="text-gray-600 dark:text-gray-100 text-sm tracking-normal font-normal mb-8 text-center w-10/12">John is a true asset to us, providing advanced designing skills from years of experience as UX designer.</p> -->
        <div class="grid grid-cols-3 ">
        {% for a in site.n_services %}

        <div class="grid grid-cols-3">
            <a tabindex="0" class="cursor-pointer hover:opacity-75  bg-gray-200 text-gray-600   rounded text-xs leading-3 py-2 px-3">{{a}}</a>
        </div>
        {% endfor %}
        </div>
    </div>
    <div class="w-full lg:w-1/3 flex-col flex justify-center items-center px-12 py-8">
        <h2 class="text-center text-2xl text-gray-800 dark:text-gray-100 font-medium tracking-normal">{{site.n_hours_stayed}}</h2>
        <h2 class="text-center text-sm text-gray-600 dark:text-gray-100 font-normal mt-2 mb-4 tracking-normal">Hours Stayed</h2>
        <h2 class="text-center text-2xl text-gray-800 dark:text-gray-100 font-medium tracking-normal">{{site.n_approved}}</h2>
        <h2 class="text-center text-sm text-gray-600 dark:text-gray-100 font-normal mt-2 mb-4 tracking-normal">Approved</h2>
        <div class="flex items-center">
            <svg class="cursor-pointer w-4 mr-1 text-yellow-400 icon icon-tabler icon-tabler-star" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" fill="none" d="M0 0h24v24H0z" />
                <path fill="currentColor" d="M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z" />
            </svg>
            <svg class="cursor-pointer w-4 mr-1 text-yellow-400 icon icon-tabler icon-tabler-star" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" fill="none" d="M0 0h24v24H0z" />
                <path fill="currentColor" d="M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z" />
            </svg>
            <svg class="cursor-pointer w-4 mr-1 text-yellow-400 icon icon-tabler icon-tabler-star" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" fill="none" d="M0 0h24v24H0z" />
                <path fill="currentColor" d="M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z" />
            </svg>
            <svg class="cursor-pointer w-4 mr-1 text-yellow-400 icon icon-tabler icon-tabler-star" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" fill="none" d="M0 0h24v24H0z" />
                <path fill="currentColor" d="M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z" />
            </svg>
            <svg class="cursor-pointer w-4 text-gray-200 dark:text-gray-400 icon icon-tabler icon-tabler-star" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" fill="none" d="M0 0h24v24H0z" />
                <path fill="currentColor" d="M12 17.75l-6.172 3.245 1.179-6.873-4.993-4.867 6.9-1.002L12 2l3.086 6.253 6.9 1.002-4.993 4.867 1.179 6.873z" />
            </svg>
        </div>
    </div>
</div>
  {% include 'components/ancl_services.html' %}
  {% include 'components/footer.html' %}
<script>
      function carousel() {
  return {
    active: 0,
    init() {
      var flkty = new Flickity(this.$refs.carousel, {
        wrapAround: true
      });
      flkty.on('change', i => this.active = i);
    }
  }
}

function carouselFilter() {
  return {
    active: 0,
    changeActive(i) {
      this.active = i;
      
      this.$nextTick(() => {
        let flkty = Flickity.data( this.$el.querySelectorAll('.carousel')[i] );
        flkty.resize();
        
        console.log(flkty);
      });
    }
  }
}
  </script>
{% endblock %}
